<!-- <a href="login.html"> <div class="redirect-button" > Go to My Feedback</div> </a> -->


<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="description" content="">

    <!-- Name on website tab -->
    <title>Visforce: My Employees</title>

    <!-- Favicon -->
    <link rel="shortcut icon" type="image/x-icon" href="static/images/vissmall.png" />

    <!-- Linking JS -->

    <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>

    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>

    <link href="static/script.js" rel="script" type="text/javascript">

    <!-- Bootstrap -->
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">

    <!-- Linking CSS -->
    <link rel= "stylesheet" type= "text/css" href= "static/styles.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.3/css/fontawesome.min.css" integrity="sha384-wESLQ85D6gbsF459vf1CiZ2+rr+CsxRY0RpiF1tLlQpDnAgg6rwdsUF1+Ics2bni" crossorigin="anonymous">
    <link rel="fontawesome" href="https://stackpath.bootstrapcdn.com/font-awesome/5.14.0/css/font-awesome.min.css">
    <script src="https://use.fontawesome.com/5a6503b1c9.js"></script>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.2/css/all.min.css" integrity="sha512-u7ppO4TLg4v6EY8yQ6T6d66inT0daGyTodAi6ycbw9+/AU8KMLAF7Z7YGKPMRA96v7t+c7O1s6YCTGkok6p9ZA==" crossorigin="anonymous" />


    <!-- Font Awesome-->

    <!-- <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.3/css/fontawesome.min.css" integrity="sha384-wESLQ85D6gbsF459vf1CiZ2+rr+CsxRY0RpiF1tLlQpDnAgg6rwdsUF1+Ics2bni" crossorigin="anonymous">
    <link rel="fontawesome" href="https://stackpath.bootstrapcdn.com/font-awesome/5.14.0/css/font-awesome.min.css">
    <script src="https://use.fontawesome.com/5a6503b1c9.js"></script>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.2/css/all.min.css" integrity="sha512-u7ppO4TLg4v6EY8yQ6T6d66inT0daGyTodAi6ycbw9+/AU8KMLAF7Z7YGKPMRA96v7t+c7O1s6YCTGkok6p9ZA==" crossorigin="anonymous" /> -->

    <!--Google Fonts -->
    <!-- Navbar font - Roboto Slab, Jumbotron - Exo, Footer -  -->
    <!-- <link href="https://fonts.googleapis.com/css2?family=Exo:wght@900&family=Roboto+Slab&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Exo:wght@900&family=PT+Serif:ital,wght@1,700&family=Roboto+Slab&display=swap" rel="stylesheet"> -->

    <style>
      body {
        background-image: url('static/images/vertical.png');
        background-repeat: no-repeat;
        background-size: cover;
      }
      .active{
        background-color: #FEEEFC;
      }
      a:hover{
        background-color: #FEEEFC;
      }
      a:hover>.fas, a:hover>.active, a:hover>.admin links a{
        /* color: #101128; */
      }
      .mini-bar a:hover, .main-bar a:hover{
        transform: scale(1.1);
      }

      .vlogo{
        text-align: center;

        padding-bottom: 20px;
      }

      .vlogo-img{
        max-width: 200px;
        text-align: center;
      }

      .admin-dashboard-navbar{
        height: 100%;
        width: 0;
        position: fixed;
        z-index: 1;
      }

      .admin-dashboard-navbar ul {
        list-style-type: none;
        margin: 0;
        padding: 0;
        width: 225px;
        background-color: white;
        height: 100%;
        position: fixed;
        overflow: auto;
        /* text-align: center; */
      }

      .user-dets-div{
        padding-top: 10px;
        padding-bottom: 10px;
        background-color: lightgrey;
      }
      .col-xs-4 .row {
        padding-left: 20px;
        padding-top: 2px;
      }

      .admin-links{
        padding-top: 10px;
      }

      .admin-links li a{
        display: block;
        color: black;
        padding: 8px 16px;
        text-decoration: none;
        border-color: black;
      }

      .font-pic{
        color: var(--main-color);
        padding-right: 5px;
      }

      .mini-bar ul{
        max-width: 6.4em;
        text-align: center;
        font-size: 15px;
      }
      .mini-bar .admin-links{
        font-size: 2em;
      }

      /* Navbar */
      @media screen and ( max-width: 800px ) {
      .mini-bar { display:inline; top:0; position: fixed;}
      .main-bar { display:none; }
      .main-content{display: none;}
      .main-content2 {display: inline-block;}
      .main{margin-left: 6em; }
      .main-search{margin-top: 12em; margin-bottom: 2em;}
      .search-form{ padding: 5px;  width: 340px; margin: 0 auto;}
      .form-box{ left: 22%;}
      .grid-container{width: 100%; grid-template-columns: auto auto auto;}


}

      @media screen and ( min-width: 532px ) and ( max-width: 801px ) {
        .grid-container{width: 80%;}
      }

      .footer{margin-left: 3em;}
      .feed-dets{padding-left: 6em;}
      .feed-table{font-align: center;}
      }

      @media screen and ( max-width: 367px ) {
        .feed-dets{padding-left: 6em; margin-left: 2em;}
      }

      @media screen and ( min-width: 368px ) and ( max-width: 415px ){
      .feed-dets{padding-left: 6em; margin-left:7%;}
      }

      @media screen and ( min-width: 801px ) and ( max-width: 1024px ) {
      .mini-bar  { display:none; }
      .main-bar { display:inline; top:0; position: fixed;}
      .main-content2 {display: none;}
      .main{margin-left: 15em;}
      .form-box{left: 33%;}
      .grid-container{width: 70%; grid-template-columns: auto auto auto;}
      /* .form {margin-left: 15em;} */
      .footer{margin-left: 7em;}
      .feed-dets{padding-left: 15em;}
      .main-search{margin-top: 12em; margin-bottom: 2em;}
      .search-form{ padding: 5px;  width: 340px; margin: 0 auto;}
      }

      @media screen and ( min-width: 1025px ) {
      .mini-bar  { display:none; }
      .main-bar { display:inline; top:0; position: fixed;}
      .main-content2 {display: none;}
      .main{margin-left: 15em;}
      /* .form{margin-left: 15em;} */
      .footer{margin-left: 7em;}
      .form-box{left: 33%;}
      .box2 h2{margin-left: 5%;}
      .grid-container{width: 60%; grid-template-columns: auto auto auto;}
      .feed-dets{padding-left: 15em;}
      .main-search{margin-top: 12em; margin-bottom: 2em;}
      .search-form{ padding: 5px;  width: 340px; margin: 0 auto;}
      }
      @media screen and ( min-width: 1100px ) {
        .form-box{left: 35%;}

      }

      :root {
        --main-color: #6B3356;
        --color-dark: #1D2231;
        --text-grey: #8390A2;
      }
        /* --------------Main content-----------> */
      .main-content {
          width: calc(100% - 225px);
          float: right;
      }
      .main-content2 {

          width: calc(100% - 6em);
          float: right;
      }
      /* -------------Header---------------> */
      header {
          display: grid;
          /* justify-content: space-between; */
          padding-top: 13px;
          background: white;
          box-shadow: 4px 4px 10px rgba(0,0,0,0.2);
          position: fixed;
          align-items: left;
          width: 100%;
          top: 0;
          z-index: 100;
          height: 19%;
      }

      /* Heading design */
      header h2 {
          color: var(--main-color);
          /* position: relative; */
          margin-left: 5%;
          height: fit-content;
          position: relative;
          float: left;
          font-size: 40px;
          background-color: white transparent;
          background: transparent;
      }

      /* Feedback */

      /* form{
        border: black;
        text-align: center;
        padding-top: 15em;
        align-content: center;
      } */

      /* Feedback box design */
      #feed-subject, .feedback-text{
        border-left: none;
        border-right: none;
        margin-bottom: 1em;
        border-width: thin;
        /* padding: -2px; */
        /* position: relative; */
      }




      .main-search form{
        border-style: dashed;
        border-color: var(--main-color);
        background-color: rgba(255,255,255,0.9);
        padding: 20px;
        width: 450px;
        text-align: center;

      }

      .redirect-button{
        margin-right: 5px;
        font-family: 'PT Serif', serif;
        font-size: 15px;
        background-color: white;
        padding: 0.3em ;
        margin-bottom: 2px;
        background-color: var(--main-color);
        color: white;
        max-padding: 0.3em;
        border: none;
      }

      .redirect-button:hover{
        background-color: #0156B2;
        text-decoration: none;
        border: none;
      }

      .feed-dets{
        text-align: center;
        /* padding-top: 14em; */
        margin-botton: 2em;
        align-content: center;
        margin-right: 7px;
      }

      .main-feed{
        margin-left: auto;
        margin-right: auto;
      }

      .feed-table{
        margin-left: auto;
        margin-right: auto;
        /* margin-bottom: 3em; */
        background-color: white;
        cursor: pointer;
      }

      .feed-table2{
        margin-bottom: 3em;
      }

      .feed-table tr, .feed-table th, .feed-table td {
        border: 1px solid #ddd;
        padding: 8px;
      }

      .feed-message{
        background-color: white;
      }

      .view_dets{
        display: none;
      }

      .edit-table{
        margin-left: auto;
        margin-right: auto;
        margin-top: 10px;
        top: 25%;
        left: 20%;
        margin-bottom: 10px;
        border: 1px solid #ddd;
        padding: 8px;
        position: fixed;
      }

      #edit-det{
        margin-left:20px;
      }


      .form-box {
        position: fixed;
        height: 90% fit-content;
        /* float: right; */
        width: calc(40% + 170px);
        padding:  35px 35px;
        display: none;
        z-index: 150;
        /* align-items: left; */
        top: 20%;
        background-color: white;
        border: 2px solid var(--main-color);
        box-shadow: 7px 10px 3px 0 var(--main-color);
        min-height: 40%;
        margin-left: auto;
        margin-right: auto;
      /* display: none; */
    }

    .form-box h2{
      text-align: center;
    }

    .form-box h5{
      float: right;
      padding: 5px;
      font-size: 25px;
      font-weight: 700;
    }

    .form-box h5:hover{
        background-color: red;
      transition: all 0.4s;
        cursor: pointer;
    }
    .input-box {
        margin: 5px;
    }
    #title,.input-box select {
        float:right;
        margin-right: 2em;
        width: 70%;
        color: rgb(194, 11, 118);
        font-weight: 500;
        margin-bottom: 5px;

    }
    .input-box label {
      float:left;
      font-size: 18px;
    }

    .btnpost{
        float: right;
        margin: 10px;
        width: 70px;
        font-size: 23px;
        color: var(--main-color);
        box-shadow: 2px 5px 4px 0px var(--main-color);
        padding: 0 3px;
        font-weight: 650;
    }
    .btnpost:hover{
        color: #fff;
        background-color: rgba(0, 255, 55, 0.822);
      transition: all 0.4s;
        box-shadow: 2px 5px 4px 0px rgba(82, 209, 51, 0.925);

    }
    /* --------->Announcement-Display<------------ */
    .box2{
        position: fixed;
        height: 40% fit-content;
        float: right;
        width: calc(40% + 150px);
        padding: 10px 5px;
        display: none;
        z-index: 150;
        align-items: left;
        top: 20%;
        right: calc(30% - 70px);
        background-color: white;
        border: 1.7px solid var(--main-color);
        align-content: center;
    }

    .box2 h5{
      float: right;
      padding: 5px;
      font-size: 25px;
      font-weight: 700;

    }

    .box2 h5:hover{
      background-color: red;
      transition: all 0.4s;
      cursor: pointer;

    }

    .box2 h2{
      color: var(--main-color);
      /* margin-left: 25% ; */
      /* margin: 0 25%; */
    }

    .box2 h3{
      color: var(--main-color);
      margin-left: 40%;
      margin-top: 25px;
      margin-bottom: 25px;
      font-size: 30px;
      font-family:serif;
      font-weight: 650;
    }
    .box2 h4{
      color: #000;
      border: 1px solid black;
      padding: 3px 10px;
      margin: 5px 5% 20px 5%;
    }

    .form-submit{
      background-color: white;
      box-shadow: 2px 2px 2px var(--main-color);
      border: 1px solid var(--main-color);
      color: black;
      font-family: 'PT Serif', serif;
      font-size: 15px;
      margin-left: auto;
      margin-right: auto;
      width: 100%;
    }

    .form-submit:hover{
      color: var(--main-color);
      box-shadow: 2px 5px 5px grey;
      border: 1px solid white;
      transition-all: 0.2s;
    }


    .delete-submit{
      background-color: darkred;
      border: 2px red;
      color: white;
      font-family: 'PT Serif', serif;
      font-size: 15px;
      margin-top: 10px;

    }
    .delete-submit:hover {
        box-shadow: 0 10px 5em var(--main-color);
        border-color: white;
        transition: all 0.4s;
    }

    .grid-container {
      display: grid;
      background-color: white;
      padding: 2px;
      /* width: 50%; */
      margin-left: auto;
      margin-right: auto;
      align-self: center;
      cursor: pointer;
      margin-bottom: 4em;

    }
    .grid-item {
      background-color: rgba(255, 255, 255, 0.8);
      border: 2px solid var(--main-color);
      padding: 10px;
      margin: 5px;
      font-size: 90%;
      text-align: center;
      font-vertical-align: middle;
    }

    /* -------------------------------------- */
    </style>


  </head>
  <body>
    <div class="admin-dashboard-navbar">
      <div class="main-bar">

      <ul>
        <li class="user-dets">
          <img style="margin-left: 10px;" class="vlogo-img" alt="logo" src="static/images/visstossologo.png" />
            <div class="user-dets-div">
              <div class="row">
                <div class="col-xs-6">
                    <img class="icon" src="static/images/usericon.png" width="100px" alt="icon">
                </div>

                <div class="col-xs-4">

                  <div class="row">
                    <div class="col-xs-4">
                      {{admin_id}}
                    </div>
                  </div>

                  <div class="row">
                    <div class="col-xs-4">
                      Admin
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </li>

          <div class="admin-links">
            <li style="border: 2px solid var(--main-color); cursor: pointer;"><a  href="{{url_for('addemployee')}}"><i class="fas fa-plus-circle font-pic"></i> Add Employee</a></li><br>
            <li><a href="{{url_for('admindashboard')}}"><i class="fa fa-home font-pic" aria-hidden="true"></i>Dashboard</a></li>
            <li><a class="active" href="{{url_for('myemployees')}}"><i class="fas fa-user-edit font-pic"></i>My Employees</a></li>
            <li><a href="{{url_for('seeleaverequests')}}"><i class="fas fa-pen font-pic"></i>Leave Requests</a></li>
            <li><a href="{{url_for('seefeedback')}}"><i class="fas fa-comments font-pic"></i>Feedback</a></li>
            <li><a href="{{url_for('announcements')}}"><i class="fas fa-bullhorn font-pic"></i>Announcements</a></li>
            <li><a href="{{url_for('accessdatabases_admin')}}"><i class="fas fa-database font-pic"></i>Access Databases</a></li>
            <li><a href="{{url_for('logout')}}"><i class="fas fa-sign-out-alt font-pic"></i>Log Out</a></li>
          </div>
        </ul>
      </div>

      <div class="mini-bar">

        <ul>
          <li class="user-dets">
            <img class="vlogo-img" alt="logo" src="static/images/visstossologo.png" style="width: 100%;">

            <div class="user-dets-div">
                <img class="icon" src="static/images/usericon.png" width="110%" alt="icon">
                <br>{{admin_id}}<br>Admin
            </div>
          </li>

          <div class="admin-links">
            <li style="border: 2px solid var(--main-color); cursor: pointer;"><a  href="{{url_for('addemployee')}}"><i class="fas fa-plus-circle font-pic"></i></a></li><br>
            <li><a href="{{url_for('admindashboard')}}"><i class="fa fa-home font-pic" aria-hidden="true"></i></a></li>
            <li><a class="active" href="{{url_for('myemployees')}}"><i class="fas fa-user-edit font-pic"></i></a></li>
            <li><a href="{{url_for('seeleaverequests')}}"><i class="fas fa-pen font-pic"></i></a></li>
            <li><a href="{{url_for('seefeedback')}}"><i class="fas fa-comments font-pic"></i></a></li>
            <li><a href="{{url_for('announcements')}}"><i class="fas fa-bullhorn font-pic"></i></a></li>
            <li><a href="{{url_for('accessdatabases_admin')}}"><i class="fas fa-database font-pic"></i></a></li>
            <li><a href="{{url_for('logout')}}"><i class="fas fa-sign-out-alt font-pic"></i></a></li>
          </div>
        </ul>
      </div>
    </div>

    <div class="main-content">
      <header>
        <label> </label> <!--for spacing above heading -->
        <h2>
          My Employees
          </h2>
      </header>
      {% with messages = get_flashed_messages(with_categories=true) %}
          {% if messages %}
              {% for category, message in messages %}
                  <div class="alert alert-{{ category }} alert-dismissible fade show" role="alert">
                      <span>{{ message }}</span>
                      <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                      <span aria-hidden="true">×</span>
                      </button>
                  </div>
              {% endfor %}
          {% endif %}
      {% endwith %}

    </div>

    <!-- content 2 -->
    <div class="main-content2">
      <header>
        <label></label>
          <h2>
          My Employees
        </h2>
      </header>
    </div>

<!-- Feedback main tables -->
<section class="main">
  <div class="main-search">

    <form class="search-form" method="POST">
      <h6 style="text-align: center;"> Filter Through Your Employees By Details- </h6>
        Department:
      <select style="margin-left: 6.5em;" id="edit-det" name="department" >
        {%if querytabs[0]=="all"%}
        <option value="all" selected="selected" >All</option>
        <option value="sal" >Sales</option>
        <option value="mar" >Marketing</option>
        <option value="sup" >Supplier</option>
        {%endif%}

        {%if querytabs[0]=="sal"%}
        <option value="all" >All</option>
        <option value="sal" selected="selected" >Sales</option>
        <option value="mar" >Marketing</option>
        <option value="sup" >Supplier</option>
        {%endif%}

        {%if querytabs[0]=="mar"%}
        <option value="all" >All</option>
        <option value="sal" >Sales</option>
        <option value="mar" selected="selected" >Marketing</option>
        <option value="sup" >Supplier</option>
        {%endif%}

        {%if querytabs[0]=="sup"%}
        <option value="all" >All</option>
        <option value="sal" >Sales</option>
        <option value="mar" >Marketing</option>
        <option value="sup" selected="selected" >Supplier</option>
        {%endif%}
      </select>


      {%if querytabs[1]==""%}
      <br><br>Employee ID, Name:<input type="text" id="edit-det" name="searchbox" placeholder="" size="20"><br>
      {%else%}
      <br><br>Employee ID, Name:<input type="text" id="edit-det" name="searchbox" value={{querytabs[1]}} size="20"><br>
      {%endif%}
      <br><input type="submit" class="form-submit" name="submit">
    </form>
    </div>
  </section>

{%for i in info%}
  <div class="main-feed" id="empdet">
    <div class="feed-dets">
      <div class="grid-container" onclick="view_dets()"">
        <div class="grid-item"><img src="static/images/usericon.png" width="50px" alt="icon">{{i.empid}}</div>
        <div class="grid-item">{{i.name}}</div>
        <div class="grid-item">{{i.department}}</div>
      </div>
      </div>
    </div>


    <div class="form-box" id="box">
      <h5 onclick="view_dets()">X</h5>
      <h2>Edit Employee Details</h2>
      <div class="input-box">



        <form method="POST">

        <br><label>Employee ID:</label> <input type="text" id="title" name="emp_id" readonly value={{i.emp_id}} size="30"><br>

        <label>Password:</label> <input type="text" name="password" value={{i.password}} required minlength=5 size="30" id="title">

        <br><label>Date Of Birth: </label><input type="date" id="title" name="dob" required value={{i.dob}} size="30">

        <br><label>Name: </label><input type="text" id="title" name="name" value={{i.name}} required size="30">

        <br><label>Email Address: </label><input type="email" id="title" name="email" required value={{i.email}} size="30">

        <br><label>Mobile Number: </label><input type="tel" id="title" pattern="[0-9]{10}" name="mobile" required value={{i.phone}} size="30">


        <br><label>Department:</label>
          {%if i.department=='MAR'%}
          <select id="search-det" name="department" id="">
            <option value="MAR" selected="selected" >Marketing</option>
            <option value="SAL" >Sales</option>
            <option value="SUP" >Supplier</option>
          </select>
          {%endif%}

          {%if i.department=='SAL'%}
          <select id="search-det" name="department" id="">
            <option value="MAR"  >Marketing</option>
            <option value="SAL" selected="selected">Sales</option>
            <option value="SUP" >Supplier</option>
          </select>

          {%endif%}

          {%if i.department=='SUP'%}
          <select id="search-det" name="department" id="">
            <option value="MAR"  >Marketing</option>
            <option value="SAL" >Sales</option>
            <option value="SUP" selected="selected">Supplier</option>
          </select>

          {%endif%}

          <input class="form-submit" type="submit" name="Edit" placeholder="Update"></input>
          </form>
          <form method="POST">
            <input style="display:none;"  type="text" id="title" name="emp_id" readonly value={{i.emp_id}} size="30"><br>
            <input style="display:none;"  type="text" id="title" name="delete" readonly value='0' size="30"><br>
            <input class="delete-submit" style="float:right;" type="submit" name="Delete" value="Delete ID"></input>
          </form>
        </div>

      </div>
            {%endfor%}

    <footer class="footer">
      <p> Copyright Visstosso 2021 </p>
    </footer>

    </body>
    <script>
   function view_dets() {
  var x = document.getElementById("box");
  var y = document.getElementById("main");
  var z = document.getElementById("empdet");

  if (x.style.display === "none") {
    x.style.display = "inline";
    y.style.opacity = 0.6;
    z.style.opacity = 0.6;
  } else {
    x.style.display = "none";
    y.style.opacity = 1;
    z.style.opacity = 1;
  }
}
  var btn = document.getElementById('btnpost');
  btn.addEventListener('click', postmsg, false);

  function postmsg() {
    var date = new Date().toLocaleString();

    var msg = document.getElementById('title').value;
    var e = document.getElementById('cards');
    var newPost = document.createElement('div1');

    newPost.innerHTML = date + ": <br>" + msg;
    e.insertBefore(newPost, e.firstChild);
  }


</script>

</html>
